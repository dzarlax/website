# CSS Optimization Proposal

## Why

Текущий CSS файл (`style.css`) блокирует загрузку страницы (render-blocking), что негативно влияет на Core Web Vitals и пользовательский опыт. Файл содержит 2100+ строк с множественными дубликатами (например, `@keyframes float`, `@keyframes morph` определены дважды), разбросанными стилями и низкой поддерживаемостью. Текущая структура затрудняет внесение изменений и увеличивает риск ошибок.

## What Changes

### Производительность (Performance)
- **Извлечь critical CSS** для above-the-fold контента и встроить его в `<head>` для быстрого первого рендера
- **Async load** основной CSS файл для остального контента
- **Удалить неиспользуемые CSS** правила (если есть)

### Структура и организация (Structure)
- **Удалить дубликаты**: `@keyframes float`, `@keyframes morph`, `.profile-image`, `.profile-badge` и др.
- **Консолидировать** media queries - сейчас они разбросаны по всему файлу
- **Группировать стили** по секциям: variables → base → components → utilities → responsive
- **Увеличить использование CSS nesting** с текущих ~40% до целевых 90%
- **Увеличить использование logical properties** с ~15% до целевых 85% для RTL поддержки

### Поддерживаемость (Maintainability)
- **Унифицировать классы**: убрать противоречивые определения (например, `.education-item` vs `.education-icon`)
- **Упростить** сложные селекторы где возможно
- **Добавить комментарии** для сложных секций если нужно

### Уменьшение размера (Size Reduction)
- Цель: **сократить CSS размер на 60%** через консолидацию и удаление дубликатов
- Использовать более компактный синтаксис где применимо

## Capabilities

### New Capabilities

- `critical-css`: Выделение и inline-вставка критических стилей для above-the-fold контента. Включает в себя:
  - Идентификация критических стилей (intro, header, first viewport)
  - Встраивание в `<head>` через `<style>`
  - Асинхронная загрузка остального CSS

- `css-architecture`: Оптимизация структуры CSS файла для улучшения поддерживаемости:
  - Удаление дубликатов (@keyframes, классы)
  - Консолидация media queries
  - Группировка стилей по логическим секциям
  - Увеличение использования CSS nesting и logical properties

### Modified Capabilities

Нет изменяющихся требований - это чисто техническая рефакторинг without изменения функциональности.

## Impact

### Затронутые файлы
- `style.css` - основной файл (будет значительно переработан)
- `index.html` - может потребоваться изменение способа загрузки CSS (inline critical + async load)
- Возможно создание дополнительного CSS файла для non-critical стилей

### Зависимости
- Нет внешних зависимостей
- Требуется тестирование на всех поддерживаемых браузерах (Chrome, Firefox, Safari)
- Тестирование responsive breakpoints (768px, 1024px, 1200px, 480px)
- Тестирование dark/light режимов
- Тестирование анимаций после консолидации

### Критические изменения
**Нет BREAKING изменений** для пользователей - визуальный результат останется идентичным.
Внутренняя структура CSS изменится, но это implementation detail.

### Метрики успеха
- **Размер CSS**: сокращение на ~60% (с 2100+ строк до ~800-1000 строк)
- **LCP (Largest Contentful Paint)**: улучшение на ~0.5-1s за счет critical CSS
- **Время блочного рендеринга**: уменьшение времени блокировки загрузки
- **Поддерживаемость**: единые определения для всех @keyframes и классов, группировка media queries
