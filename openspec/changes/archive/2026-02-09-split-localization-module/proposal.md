# Split Localization Module Proposal

## Why

Текущий файл `web/localization.js` содержит 1270 строк кода, включая все переводы для трёх языков (en, ru, rs) и полную логику локализации. Это означает, что пользователь загружает все переводы (более 800 строк только данных), даже если нужен только один язык. Это увеличивает initial page load и излишний расход памяти.

**Проблема:**
- Файл `localization.js` загружается синхронно в `<head>` страницы
- Содержит ~800 строк переводов для всех языков
- Пользователь загружает переводы для языков, которые не будут использоваться
- Увеличивает initial bundle size без необходимости

**Почему сейчас:**
Сайт поддерживает мультиязычность (en, ru, rs) и может выиграть от code splitting и lazy loading переводов.

## What Changes

**Новые возможности:**
- **Dynamic import** переводов по требованию
- **Code splitting** - разделение на модули:
  - `localization-core.js` - основная логика локализации (функции, события)
  - `localization-en.js` - английские переводы (~270 строк)
  - `localization-ru.js` - русские переводы (~270 строк)
  - `localization-rs.js` - сербские переводы (~270 строк)
  - `skill-icons.js` - маппинг иконок навыков (опционально)

**Модификации:**
- Рефакторинг `localization.js` для использования dynamic imports
- Изменение способа загрузки в `index.html`
- Оптимизация кеширования браузером (каждый язык кешируется отдельно)

**Изменения в API:**
- Функция `switchLang()` будет динамически импортировать нужный язык
- Добавить fallback loading state (показывать "Loading..." пока загружается перевод)
- Кеширование уже загруженных переводов в памяти

**Удаления:**
Нет - это рефакторинг без изменения функциональности.

## Capabilities

### New Capabilities
- **lazy-localization**: Динамическая загрузка переводов по требованию с поддержкой lazy loading и code splitting

### Modified Capabilities
Нет - требования локализации не меняются, только реализация.

## Impact

**Затронутые файлы:**
- `web/localization.js` - будет разбит на несколько модулей
- `index.html` - изменён способ загрузки скрипта
- Возможно `web/projects.js` - если зависит от `translations` объекта

**Зависимости:**
- Нет внешних зависимостей
- Использует нативный JavaScript dynamic import (`import()`)

**Производительность:**
- Уменьшение initial bundle size на ~70-80% (для одного языка)
- Улучшение First Contentful Paint (FCP)
- Better caching - переводы кешируются отдельно

**Browser support:**
- Dynamic import поддерживается во всех современных браузерах
- Fallback для старых браузеров не требуется (сайт ориентирован на современные браузеры)
